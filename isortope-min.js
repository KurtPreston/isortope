/*
* isortope v1.2.2
* Simple, animated JavaScript table sorting
*
* https://github.com/KurtPreston/isortope
*/// Convert cells for comparison
var isortopeNumToString=function(e){e=parseFloat(e)+450359962737;var t=40,n=e.toString(),r=Math.floor(Math.log(e)/Math.LN10);for(var i=r;i<t;i++)n="0"+n;return n},isortopeParseString=function(e){e=e.replace(/^\s+|\s+$/g,"");var t=e.split(" ")[0].replace(/[^a-zA-Z0-9\.-]/g,"");return isNaN(parseFloat(t))?e.toLowerCase():isortopeNumToString(t)},isortopeCellFilter=function(e){var t=$(e).text().replace(/^\s+|\s+$/g,""),n=$(e).find("input"),r;return t!==""?r=isortopeParseString(t):n.length>0?n.val()=="on"?r=n.is(":checked").toString():r=isortopeParseString(n.val()):r=$(e).html(),r};jQuery.fn.contentChange=function(e){var t=jQuery(this);return t.each(function(t){var n=jQuery(this);n.data("lastContents",n.html()),window.watchContentChange=window.watchContentChange?window.watchContentChange:[],window.watchContentChange.push({element:n,callback:e})}),t},setInterval(function(){if(window.watchContentChange)for(var e in window.watchContentChange)window.watchContentChange[e].element.data("lastContents")!=window.watchContentChange[e].element.html()&&(window.watchContentChange[e].callback.apply(window.watchContentChange[e].element),window.watchContentChange[e].element.data("lastContents",window.watchContentChange[e].element.html()))},500),function(e,t,n){"use strict";function r(t,n){this.$el=e(t),this.defaults={autoResort:!0,autoResortInput:!0,autoResortContent:!0},this.opts=e.extend(this.defaults,n,{autoResort:this.$el.data("isortope-autoresort"),autoResortInput:this.$el.data("isortope-autoresort-input"),autoResortContent:this.$el.data("isortope-autoresort-content")}),this.resort=function(){this.$el.data("isortope").sortTable()},this.init(),this.$el.data("isortope",this)}e.fn.isortope=function(t){return t=="resort"?this.each(function(){var t=e(this).find("tbody tr");e(this).find("tbody").isotope("updateSortData",t),e(this).data("isortope").resort()}):this.each(function(){new r(this,t)})},r.prototype.init=function(){var t=this.$el,n=t.find("tbody");t.css("position","relative"),t.css("height",t.height());var r=t.find("th").length;for(var i=0;i<r;i++){var s=t.find("tr:first-child td:nth-child("+(i+1)+")").width();t.find("tr td:nth-child("+(i+1)+")").css("width",s);var o=t.find("th:nth-child("+(i+1)+")"),u=o.width();o.css("width",u),o.css("max-width",u)}var a=n.find("td"),f=a.css("border-top-width"),l=a.css("border-bottom-width"),c=function(){a.css("border-top-width",0),a.css("border-bottom-width",0)},h=function(){a.css("border-top-width",f),a.css("border-bottom-width",l)};if(t.css("border-collapse")=="separate"){var p=n.find("tr"),d=parseInt(t.css("border-spacing").split(" ")[0]),v=parseInt(l);p.css("margin-bottom",d+v+"px")}var m={};for(var i=0;i<r;i++){var g="col"+i,o=t.find("th:nth-child("+(i+1)+")");if(o.attr("data-sort-type")!="none"){var y="return isortopeCellFilter(item.find('."+g+"'));",b=new Function("item",y);m[g]=b,o.attr("data-sort-type",g),o.css("cursor","pointer"),t.find("tr td:nth-child("+(i+1)+")").addClass(g),t.find("tr td:nth-child("+(i+1)+")").data("sort-type",g)}}var w=t.find("thead").offset().top;n.each(function(t,n){var r=e(n).offset().top-w;e(n).data("offsetHeight",r)}),c(),n.each(function(t,n){e(n).isotope({itemSelector:"tr",layout:"fitRows",getSortData:m})}),h(),n.each(function(t,n){var r=e(n).data("offsetHeight");e(n).find("tr").css("top",r)});var o=t.find("th");o.height(o.height()),o.css("line-height",1);var E=function(){var e=t.find("th.sortAsc,th.sortDesc");e.find(".sort-arrow").remove(),e.removeClass("sortAsc").removeClass("sortDesc")};t.find("th").click(function(){var t=e(this).attr("data-sort-type");if(t=="none")return;var n;e(this).hasClass("sortAsc")?(n=!0,E(),e(this).html(e(this).html()+'<span class="sort-arrow">▼</span>'),e(this).addClass("sortDesc")):(n=!1,E(),e(this).html(e(this).html()+'<span class="sort-arrow">▲</span>'),e(this).addClass("sortAsc")),S()});var S=function(){var r=e(t).find("th.sortAsc, th.sortDesc").closest("th"),i=r.attr("data-sort-type"),s=r.hasClass("sortDesc");c(),n.isotope({sortBy:i,sortAscending:!s}),h(),t.trigger("sort")};this.sortTable=S;var x=function(t){var r=e(t).closest("tr");n.isotope("updateSortData",r);var i=e(t).data("sort-type"),s=e("th[data-sort-type="+i+"]");(s.hasClass("sortAsc")||s.hasClass("sortDesc"))&&S()};this.opts.autoResort&&this.opts.autoResortInput&&t.find("input").change(function(){var t=e(this).parent("td");x(t)}),this.opts.autoResort&&this.opts.autoResortContent&&t.find("td").contentChange(function(){x(this)}),t.trigger("initialized")}}(jQuery,document,window),$(document).ready(function(){$("table.isortope").isortope()});